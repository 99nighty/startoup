-- 사용자 테이블 전체 조회
SELECT * FROM USER_TABLES;

SELECT * FROM MEMBERS;

/* Create Tables */

CREATE TABLE MEMBERS
(
	M_ID varchar2(20) NOT NULL,
	M_PW varchar2(30) NOT NULL,
	M_NAME varchar2(20) NOT NULL,
	M_EMAIL1 varchar2(30) NOT NULL,
	M_EMAIL2 varchar2(30) NOT NULL,
	M_NUM varchar2(20) NOT NULL,
	M_REGDATE date NOT NULL,
	PRIMARY KEY (M_ID)
);

CREATE TABLE PRODUCT
(
	P_NUM number NOT NULL,
	P_NAME varchar2(50) NOT NULL,
	P_PRICE number NOT NULL,
	P_INFO varchar2(3000) NOT NULL,
	P_FINISH number DEFAULT 0 NOT NULL,
	P_IMAGE varchar2(3000),
	P_AMOUNT number NOT NULL,
	P_CRNAMOUNT number DEFAULT 0 NOT NULL,
	P_PERCENT number DEFAULT 0 NOT NULL,
	PRIMARY KEY (P_NUM)
);

CREATE TABLE MYLIKE
(
	ML_NUM number NOT NULL,
	ML_MID varchar2(20) NOT NULL,
	ML_PID number NOT NULL,
	PRIMARY KEY (ML_NUM)
);

CREATE TABLE CRAWLING
(
	C_NUM number NOT NULL,
	C_PID number NOT NULL,
	C_INFO varchar2(3000) NOT NULL,
	PRIMARY KEY (C_NUM)
);


CREATE TABLE LISTS
(
	L_NUM number NOT NULL,
	L_PID number NOT NULL,
	L_MID varchar2(20) NOT NULL,
	PRIMARY KEY (L_NUM)
);

CREATE TABLE MYFUNDING
(
	MF_NUM number NOT NULL,
	MF_MID varchar2(20) NOT NULL,
	MF_PID number NOT NULL,
	PRIMARY KEY (MF_NUM)
);


/* Create Foreign Keys */

ALTER TABLE LISTS
	ADD FOREIGN KEY (L_MID)
	REFERENCES MEMBERS (M_ID)
;


ALTER TABLE MYFUNDING
	ADD FOREIGN KEY (MF_MID)
	REFERENCES MEMBERS (M_ID)
;


ALTER TABLE MYLIKE
	ADD FOREIGN KEY (ML_MID)
	REFERENCES MEMBERS (M_ID)
;


ALTER TABLE CRAWLING
	ADD FOREIGN KEY (C_PID)
	REFERENCES PRODUCT (P_NUM)
;


ALTER TABLE LISTS
	ADD FOREIGN KEY (L_PID)
	REFERENCES PRODUCT (P_NUM)
;


ALTER TABLE MYFUNDING
	ADD FOREIGN KEY (MF_PID)
	REFERENCES PRODUCT (P_NUM)
;


ALTER TABLE MYLIKE
	ADD FOREIGN KEY (ML_PID)
	REFERENCES PRODUCT (P_NUM)
;


/* Drop Tables */

DROP TABLE CRAWLING CASCADE CONSTRAINTS;
DROP TABLE LISTS CASCADE CONSTRAINTS;
DROP TABLE MYFUNDING CASCADE CONSTRAINTS;
DROP TABLE MYLIKE CASCADE CONSTRAINTS;
DROP TABLE MEMBERS CASCADE CONSTRAINTS;
DROP TABLE PRODUCT CASCADE CONSTRAINTS;